# 反射 框架设计的灵魂 (用于开发框架)

* 框架：软件的半成品
  * 在框架的基础之上开发软件，简化代码
* Class对象：
  * 成员变量 -> Field对象
  * 构造方法 -> Constructor对象
  * 成员方法 -> Method对象
* 反射概念：将类的各个组成部分封装成其他对象
* 反射用途：
  * 在程序运行中操作Class对象
  * 降低程序的耦合性(解耦)， 提高可扩展性
* 获取Class对象的方式：
  1. 通过`Class.forName("类名")` 将字节码文件加载进内存中，返回Class对象
        * 多用于配置文件，将类名定义在配置文件中，读取配置文件然后加载类
  2. 通过`类名.class`属性
        * 多用于参数的传递
  3. 通过`对象.getClass()`方法 (方法封装在Object类中)
        * 多用于从对象获取字节码
    * 同一个字节码文件在一次程序运行过程中只会被加载一次，对应的Class对象相同
* Class对象功能：
  1. 获取成员变量(们)
  2. 获取构造方法(们)
  3. 获取成员方法(们)
    * 不带Declared: public修饰
    * 带Declared: 全部
  4. 获取类名
* `Object.setAccessible(true);` 暴力反射
  * 忽略访问权限修饰符的安全检查
* Field: 成员变量
  * 操作：
    * 设置值
    * 获取值
* Constructor: 构造方法
  * 操作:
    * 创建对象: `Constructor.newInstance()` 参数列表
* Method: 成员方法
  * 操作:
    * 使用方法: `Method.invoke()` 对象, 参数列表
    * 获取方法名称: `Method.getName()`